<div id="home-page">

    <div id="home-container">

        <p-button (click)="showDialog()" icon="pi pi-external-link" label="Adicionar atividade" size="large"></p-button>

        <p-dialog styleClass="workout-dialog" [(visible)]="visible"
            [breakpoints]="{ '480px': '100vw','768px': '80','1024px': '70vw' }" [style]="{width: '60vw'}">

            <ng-template pTemplate="header">
                <p>Adicione uma nova atividade</p>
            </ng-template>

            <div [formGroup]="newWorkout" class="add-workout-form">

                <label for="workout-type">Escolha o tipo do exercício:</label>
                <select name="workout-type" id="workout-type" formControlName="type">
                    <option *ngFor="let workoutType of workoutTypes" [ngValue]="workoutType.name">
                        {{ workoutType.name }}
                </select>

                <label for="workout-title">Nome ou descrição da atividade:</label>
                <input type="text" id="workout-title" name="workout-title" formControlName="title">

                <label for="workout-date">Data realizada:</label>
                <input type="date" id="workout-date" name="workout-date" formControlName="date">

                <label for="workout-distance">Distância (em metros): <em>opcional</em></label>
                <input type="number" id="workout-distance" name="workout-distance" formControlName="distance">

                <label for="workout-time">Tempo (no formato hh:mm): <em>opcional</em></label>
                <input type="time" id="workout-time" name="workout-time" formControlName="time">
            </div>

            <ng-template pTemplate="footer">
                <p-button (click)="visible = false" label="Cancelar"></p-button>
                <p-button (click)="saveWorkout()" label="Salvar"></p-button>
            </ng-template>

        </p-dialog>
    </div>

    <div class="rendered-list">
        <div *ngFor="let activity of listOfWorkouts">
            <div class="workout-card">
                <div class="card-header">
                    <h3 class="card-type">{{activity.type}}</h3>
                    <img src="../../assets/images/keep-health-logo-circle.png">
                </div>
                
                <div class="card-img">
                    <img *ngIf="activity.type == 'Caminhada'" [src]="workoutTypes[0].image" [alt]="activity.type">
                    <img *ngIf="activity.type == 'Corrida'" [src]="workoutTypes[1].image" [alt]="activity.type">
                    <img *ngIf="activity.type == 'Natação'" [src]="workoutTypes[2].image" [alt]="activity.type">
                    <img *ngIf="activity.type == 'Bicicleta'" [src]="workoutTypes[3].image" [alt]="activity.type">
                    <img *ngIf="activity.type == 'Dança'" [src]="workoutTypes[4].image" [alt]="activity.type">
                    <img *ngIf="activity.type == 'Musculação'" [src]="workoutTypes[5].image" [alt]="activity.type">
                    <img *ngIf="activity.type == 'Ioga'" [src]="workoutTypes[6].image" [alt]="activity.type">
                    <img *ngIf="activity.type == 'Esporte'" [src]="workoutTypes[7].image" [alt]="activity.type">
                </div>

                <h2 class="card-name">{{activity.date | dateFormat}}</h2>
                <span class="card-description">{{activity.title}}</span>
                <span *ngIf="activity.distance" class="card-description">Distância: {{activity.distance}} m</span>
                <span *ngIf="activity.time" class="card-description">Tempo: {{activity.time}}</span>
                
            </div>
        </div>









    </div>

    <footer class="footer"><a href="https://www.freepik.com/free-vector/running-sweat-concept-illustration_72470723.htm#query=jog%20green&position=2&from_view=author&uuid=9e382247-7a1a-4744-85a5-bca6f3fc50de">Image by storyset</a> on Freepik</footer>